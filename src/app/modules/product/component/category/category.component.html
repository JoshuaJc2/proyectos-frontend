<body class="cuerpo">
  <!-- body content  -->
  <div class="body-content">
    <div class="card">
      <div class="card-header">
        <div class="row">
          <div class="col">
            <h4>Categorias</h4>
          </div>
          <div class="col">
            <div class="botonDer">
              <button type="button" class="btn btn-primary btn-new" (click)="showModalForm()">Nueva Categoria</button>
            </div>
          </div>
        </div>
      </div>
      <div class="card-body">
        <table class="table table-striped">
          <thead>
            <tr class="table-dark">
              <th scope="col">categoryId</th>
              <th scope="col">category</th>
              <th scope="col">tag</th>
              <th scope="col">status</th>
            </tr>
          </thead>
          <tbody>
						@for(category of categories; track category.category_id; let i = $index ) {
    				<tr>
        			<td>{{ category.category_id }}</td>
        			<td>{{ category.category }}</td>
        			<td>{{ category.tag }}</td>
              <td> @if (category.status){
                Activo
                } @else {
                Inactivo
                }</td>
    				</tr>
						}
          </tbody>
        </table>
      </div>
      
      <div class="modal fade modal-lg" id="modalForm" tabindex="-1" role="dialog" data-bs-backdrop="static">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Nueva Categoria</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">

              <form [formGroup]="form" (ngSubmit)="onSubmit()"> <!--(ngSubmit)="onSubmit()"> <form>-->
                <div class="form-group">
                  <label for="category" class="form-label">Categoria<span class="color-red">*</span></label>
                  <input type="text" class="form-control" formControlName="category" id="category"
                    placeholder="Nombre de la categoria..." [ngClass]="{'is-invalid': form.controls['category'].errors && submitted}">
                  @if (form.controls['category'].errors && submitted) {
                      <small class="input-error-message">Favor de ingresar un nombre de categoria válido</small>
                 }
                 
                </div>

                <div class="form-group">
                  <label for="tag">Tag<span class="color-red">*</span></label>
                  <input type="text" class="form-control" formControlName="tag" id="tag"
                    placeholder="Nombre de la etiqueta..." [ngClass]="{'is-invalid': form.controls['tag'].errors && submitted}">
                  @if (form.controls['tag'].errors && submitted) {
                      <small class="input-error-message">Favor de ingresar un código de categoria válido</small>
                 }
                 
                </div>
                
                <div class="form-button">
                  <button type="submit" class="btn btn-primary btn-save">Agregar</button>
                </div>
              </form>
            
            </div>

          </div>
        </div>
      </div>

      <div class="card-footer">
        <div style="text-align:center;padding:1em 0;"> <h4><a style="text-decoration:none;" href="https://www.zeitverschiebung.net/es/city/3530597"><span style="color:gray;">Hora actual en</span><br />Mexico City, México</a></h4> <iframe src="https://www.zeitverschiebung.net/clock-widget-iframe-v2?language=es&size=small&timezone=America%2FMexico_City" width="100%" height="90" frameborder="0" seamless></iframe> 
        </div>
      </div>
    </div>
  </div>

  <footer class="contact-info bg-dark text-white mt-4 p-4">
    <div class="container text-center">
      <p class="h5"><strong>Contacto:</strong></p>
      <p>
        <!-- <a href="https://github.com/JuanSosaCiencias" class="text-white" target="_blank">JSR_Mario</a> |-->
        <a href="https://github.com/JoshuaJc2" class="text-white" target="_blank">JoshuaJc2</a>
      </p>
      <p>Teléfono: +52 123 456 7890</p>
      <p class="privacy-notice">Aviso de Privacidad</p>
    </div>
  </footer>

</body>